<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Confirmatory Factor Analysis — cfa_summary • psycModel</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Confirmatory Factor Analysis — cfa_summary" />
<meta property="og:description" content=" 
The function fits a CFA model using the lavaan::cfa function. Users can fit single and multiple factors CFA, and it also supports multilevel CFA (specifying the group).
Users can pass fit the model by passing the items using dplyr::select syntax or an explicit lavaan model for more versatile usage.
All arguments (except the CFA items) must be explicitly named (like model = your-model; see example for inappropriate behavior)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">psycModel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/quick-introduction.html">quick-introduction</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jasonmoy28/psycModel">
    <span class="fab fa-github fa-0.7x"></span>
     
    GitHub
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Confirmatory Factor Analysis</h1>
    
    <div class="hidden name"><code>cfa_summary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://lifecycle.r-lib.org/articles/stages.html#stable'><img src='figures/lifecycle-stable.svg' alt='[Stable]' /></a> <br />
The function fits a CFA model using the lavaan::cfa function. Users can fit single and multiple factors CFA, and it also supports multilevel CFA (specifying the group).
Users can pass fit the model by passing the items using dplyr::select syntax or an explicit lavaan model for more versatile usage.
All arguments (except the CFA items) must be explicitly named (like model = your-model; see example for inappropriate behavior).</p>
    </div>

    <pre class="usage"><span class='fu'>cfa_summary</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>...</span>,
  model <span class='op'>=</span> <span class='cn'>NULL</span>,
  group <span class='op'>=</span> <span class='cn'>NULL</span>,
  ordered <span class='op'>=</span> <span class='cn'>F</span>,
  return_result <span class='op'>=</span> <span class='cn'>F</span>,
  digits <span class='op'>=</span> <span class='fl'>3</span>,
  model_covariance <span class='op'>=</span> <span class='cn'>T</span>,
  model_variance <span class='op'>=</span> <span class='cn'>T</span>,
  plot <span class='op'>=</span> <span class='cn'>T</span>,
  quite <span class='op'>=</span> <span class='cn'>F</span>,
  streamline <span class='op'>=</span> <span class='cn'>F</span>,
  group_partial <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>data frame</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>CFA items using dplyr::select syntax. Multi-factor CFA items should be separated by comma (as different argument). See below for examples</p></td>
    </tr>
    <tr>
      <th>model</th>
      <td><p>explicit lavaan model. Must be specify with <code>model = lavaan_model_syntax</code>.</p></td>
    </tr>
    <tr>
      <th>group</th>
      <td><p>optional character. used for multi-level CFA. the nested variable for multilevel dataset (e.g., Country)</p></td>
    </tr>
    <tr>
      <th>ordered</th>
      <td><p>Default is <code>FALSE</code>. If it is set to <code>TRUE</code>, lavaan will treat it as a ordinal variable and use DWLS instead of ML</p></td>
    </tr>
    <tr>
      <th>return_result</th>
      <td><p>Default is <code>FALSE</code>. If it is <code>TRUE</code>, it will return the lavaan model</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>number of digits to round to</p></td>
    </tr>
    <tr>
      <th>model_covariance</th>
      <td><p>print model covariance. Default is <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>model_variance</th>
      <td><p>print model variance. Default is <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>print a path diagram. Default is <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>quite</th>
      <td><p>suppress printing output</p></td>
    </tr>
    <tr>
      <th>streamline</th>
      <td><p>print streamlined output</p></td>
    </tr>
    <tr>
      <th>group_partial</th>
      <td><p>Items for partial equivalence. The form should be c('DV =~ item1', 'DV =~ item2').</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>lavaan</code> object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>First, just like researchers have argued against p value of 0.05 is not a good cut-of, researchers have also argue against that fit indicies (more importantly, the cut-off criteria) are not completely representative of the goodness of fit.
Nonetheless, you are required to report them if you are publishing an article anyway. I will summarize the general recommended cut-off criteria for CFA model below.
Researchers consider models with CFI (Bentler, 1990) that is &gt; 0.95 to be excellent fit (Hu &amp; Bentler, 1999), and &gt; 0.9 to be acceptable fit. Researchers considered a model is excellent fit if CFI &gt; 0.95 (Hu &amp; Bentler, 1999), RMSEA &lt; 0.06 (Hu &amp; Bentler, 1999), TLI &gt; 0.95, SRMR &lt; 0.08.
The model is considered an acceptable fit if CFI &gt; 0.9 and RMSEA &lt; 0.08. I need some time to find all the relevant references, but this should be the general consensus.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Hu, L., &amp; Bentler, P. M. (1999). Cutoff criteria for fit indexes in covariance structure analysis: Conventional criteria versus new alternatives. Structural Equation Modeling, 6, 1–55. https://doi.org/10.1080/10705519909540118</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># REMEMBER, YOU MUST NAMED ALL ARGUMENT EXCEPT THE CFA ITEMS ARGUMENT</span>
<span class='co'># Fitting a multiple factor CFA model</span>
<span class='va'>fit</span> <span class='op'>&lt;-</span> <span class='fu'>cfa_summary</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='fu'>lavaan</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/lavaan/man/HolzingerSwineford1939.html'>HolzingerSwineford1939</a></span>,
  <span class='va'>x1</span><span class='op'>:</span><span class='va'>x3</span>,
  <span class='va'>x4</span><span class='op'>:</span><span class='va'>x6</span>,
  <span class='va'>x7</span><span class='op'>:</span><span class='va'>x9</span>,
<span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;  
#&gt; <span style='text-decoration: underline;'>Model Summary</span><span>
#&gt; Model Type = Confirmatory Factor Analysis
#&gt; Model Formula = 
#&gt; . DV1 =~ x1 + x2 + x3
#&gt;   DV2 =~ x4 + x5 + x6
#&gt;   DV3 =~ x7 + x8 + x9
#&gt;  
#&gt; </span><span style='text-decoration: underline;'>Fit Measure</span><span>
#&gt; ─────────────────────────────────────────────────────────────────────────────────
#&gt;       Χ²      DF      P    CFI  RMSEA   SRMR    TLI       AIC       BIC      BIC2
#&gt; ─────────────────────────────────────────────────────────────────────────────────
#&gt;   85.306  24.000  0.000  0.931  0.092  0.065  0.896  7517.490  7595.339  7528.739
#&gt; ─────────────────────────────────────────────────────────────────────────────────
#&gt;  
#&gt; </span><span style='text-decoration: underline;'>Factor Loadings</span><span>
#&gt; ──────────────────────────────────────────────────────────────────────────────────
#&gt;   Latent.Factor  Observed.Var  Std.Est     SE       Z  P.Value  CI.Lower  CI.Upper
#&gt; ──────────────────────────────────────────────────────────────────────────────────
#&gt;             DV1            x1    0.772  0.055  14.041    0.000     0.664     0.880
#&gt;                            x2    0.424  0.060   7.105    0.000     0.307     0.540
#&gt;                            x3    0.581  0.055  10.539    0.000     0.473     0.689
#&gt;             DV2            x4    0.852  0.023  37.776    0.000     0.807     0.896
#&gt;                            x5    0.855  0.022  38.273    0.000     0.811     0.899
#&gt;                            x6    0.838  0.023  35.881    0.000     0.792     0.884
#&gt;             DV3            x7    0.570  0.053  10.714    0.000     0.465     0.674
#&gt;                            x8    0.723  0.051  14.309    0.000     0.624     0.822
#&gt;                            x9    0.665  0.051  13.015    0.000     0.565     0.765
#&gt; ──────────────────────────────────────────────────────────────────────────────────
#&gt;  
#&gt; </span><span style='text-decoration: underline;'>Model Covariances</span><span>
#&gt; ────────────────────────────────────────────────────────────────
#&gt;   Var.1  Var.2    Est     SE      Z  P.Value  CI.Lower  CI.Upper
#&gt; ────────────────────────────────────────────────────────────────
#&gt;     DV1    DV2  0.459  0.064  7.189    0.000     0.334     0.584
#&gt;     DV1    DV3  0.471  0.073  6.461    0.000     0.328     0.613
#&gt;     DV2    DV3  0.283  0.069  4.117    0.000     0.148     0.418
#&gt; ────────────────────────────────────────────────────────────────
#&gt;  
#&gt; </span><span style='text-decoration: underline;'>Model Variance</span><span>
#&gt; ─────────────────────────────────────────────────────────────────
#&gt;   Var.1  Var.2    Est     SE       Z  P.Value  CI.Lower  CI.Upper
#&gt; ─────────────────────────────────────────────────────────────────
#&gt;      x1     x1  0.404  0.085   4.763    0.000     0.238     0.571
#&gt;      x2     x2  0.821  0.051  16.246    0.000     0.722     0.920
#&gt;      x3     x3  0.662  0.064  10.334    0.000     0.537     0.788
#&gt;      x4     x4  0.275  0.038   7.157    0.000     0.200     0.350
#&gt;      x5     x5  0.269  0.038   7.037    0.000     0.194     0.344
#&gt;      x6     x6  0.298  0.039   7.606    0.000     0.221     0.374
#&gt;      x7     x7  0.676  0.061  11.160    0.000     0.557     0.794
#&gt;      x8     x8  0.477  0.073   6.531    0.000     0.334     0.620
#&gt;      x9     x9  0.558  0.068   8.208    0.000     0.425     0.691
#&gt;     DV1    DV1  1.000  0.000      NA       NA     1.000     1.000
#&gt;     DV2    DV2  1.000  0.000      NA       NA     1.000     1.000
#&gt;     DV3    DV3  1.000  0.000      NA       NA     1.000     1.000
#&gt; ─────────────────────────────────────────────────────────────────
#&gt;  
#&gt; Goodness of Fit:
#&gt; </span><span style='color: #BBBB00;'> Warning. Poor χ² fit (p &lt; 0.05). It is common to get p &lt; 0.05. Check other fit measure.</span><span>
#&gt; </span><span style='color: #00BB00;'> OK. Acceptable CFI fit (CFI &gt; 0.90)</span><span>
#&gt; </span><span style='color: #BB0000;'> Warning. Poor RMSEA fit (RMSEA &gt; 0.08)</span><span>
#&gt; </span><span style='color: #00BB00;'> OK. Good SRMR fit (SRMR &lt; 0.08)</span><span>
#&gt; </span><span style='color: #BB0000;'> Warning. Poor TLI fit (TLI &lt; 0.90)</span><span>
#&gt; </span><span style='color: #BBBB00;'> OK. Barely acceptable factor loadings (0.4 &lt; some loadings &lt; 0.7)</span><span></div><div class='img'><img src='cfa_summary-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Fitting a multilevel single factor CFA model</span>
<span class='va'>fit</span> <span class='op'>&lt;-</span> <span class='fu'>cfa_summary</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='fu'>lavaan</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/lavaan/man/HolzingerSwineford1939.html'>HolzingerSwineford1939</a></span>,
  <span class='va'>x1</span><span class='op'>:</span><span class='va'>x3</span>,
  group <span class='op'>=</span> <span class='st'>"sex"</span>,
  model_variance <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='co'># stop printing model_variance and model_covariance</span>
  model_covariance <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;  
#&gt; </span><span style='text-decoration: underline;'>Model Summary</span><span>
#&gt; Model Type = Confirmatory Factor Analysis
#&gt; Model Formula = 
#&gt; . DV1 =~ x1 + x2 + x3
#&gt;  
#&gt; Group = sex
#&gt; </span><span style='text-decoration: underline;'>Fit Measure</span><span>
#&gt; ────────────────────────────────────────────────────────────────────────────
#&gt;      Χ²     DF   P    CFI  RMSEA   SRMR    TLI       AIC       BIC      BIC2
#&gt; ────────────────────────────────────────────────────────────────────────────
#&gt;   0.000  0.000  NA  1.000  0.000  0.000  1.000  2723.393  2790.121  2733.035
#&gt; ────────────────────────────────────────────────────────────────────────────
#&gt;  
#&gt; </span><span style='text-decoration: underline;'>Factor Loadings</span><span>
#&gt; ────────────────────────────────────────────────────────────────────────────────────────
#&gt;   Latent.Factor  Observed.Var  group  Std.Est     SE      Z  P.Value  CI.Lower  CI.Upper
#&gt; ────────────────────────────────────────────────────────────────────────────────────────
#&gt;             DV1            x1  1.000    0.472  0.119  3.952    0.000     0.238     0.706
#&gt;             DV1            x2  1.000    0.352  0.104  3.376    0.001     0.148     0.557
#&gt;             DV1            x3  1.000    0.919  0.196  4.681    0.000     0.534     1.304
#&gt;             DV1            x1  2.000    0.750  0.089  8.437    0.000     0.576     0.924
#&gt;             DV1            x2  2.000    0.561  0.082  6.826    0.000     0.400     0.722
#&gt;             DV1            x3  2.000    0.586  0.083  7.076    0.000     0.423     0.748
#&gt; ────────────────────────────────────────────────────────────────────────────────────────
#&gt;  
#&gt; Goodness of Fit:
#&gt; </span><span style='color: #00BB00;'> OK. Excellent χ² fit (p &gt; 0.05)</span><span>
#&gt; </span><span style='color: #00BB00;'> OK. Excellent CFI fit (CFI &gt; 0.95)</span><span>
#&gt; </span><span style='color: #00BB00;'> OK. Excellent RMSEA fit (RMSEA &lt; 0.05)</span><span>
#&gt; </span><span style='color: #00BB00;'> OK. Good SRMR fit (SRMR &lt; 0.08)</span><span>
#&gt; </span><span style='color: #00BB00;'> OK. Excellent TLI fit (TLI &gt; 0.95)</span><span>
#&gt; </span><span style='color: #BB0000;'> Warning. Some poor factor loadings (some loadings &lt; 0.4)</span><span></div><div class='img'><img src='cfa_summary-2.png' alt='' width='700' height='433' /></div><div class='img'><img src='cfa_summary-3.png' alt='' width='700' height='433' /></div><div class='input'>

<span class='co'># Fitting a CFA model by passing explicit lavaan model (equivalent to the above model)</span>
<span class='co'># Note in the below function how I added `model = ` in front of the lavaan model.</span>
<span class='co'># Similarly, the same rule apply for all arguments (e.g., `ordered = F` instead of `F`)</span>
<span class='va'>fit</span> <span class='op'>&lt;-</span> <span class='fu'>cfa_summary</span><span class='op'>(</span>
  model <span class='op'>=</span> <span class='st'>"visual  =~ x1 + x2 + x3;textual =~ x4 + x5 + x6;"</span>,
  data <span class='op'>=</span> <span class='fu'>lavaan</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/lavaan/man/HolzingerSwineford1939.html'>HolzingerSwineford1939</a></span>,
  quite <span class='op'>=</span> <span class='cn'>TRUE</span> <span class='co'># silence all output</span>
<span class='op'>)</span>
</div><div class='img'><img src='cfa_summary-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># This will fail because I did not add `model = ` in front of the lavaan model.</span>
<span class='co'># Therefore,you must add the tag in front of all arguments</span>
<span class='co'># For example, `return_result = 'model'` instaed of `model`</span>
<span class='fu'>cfa_summary</span><span class='op'>(</span><span class='st'>"visual  =~ x1 + x2 + x3
             textual =~ x4 + x5 + x6
             speed   =~ x7 + x8 + x9 "</span>,
  data <span class='op'>=</span> <span class='fu'>lavaan</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/lavaan/man/HolzingerSwineford1939.html'>HolzingerSwineford1939</a></span>
<span class='op'>)</span>
<span class='op'>}</span>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jason Moy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


