---
title: "psycModel: Fitting Regression Model"
vignette: >
  %\VignetteIndexEntry{regression_model}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
output: 
  rmarkdown::html_vignette:
    toc: true
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(psycModel)
```

## How to use `dplyr::select` syntax? 
I will discuss the most commonly-used / relevant `dplyr::select` syntax in here. However, you should definitely check out `dplyr` package (or the entire `tidyverse` package). I think the `tidyverse` package is undoubtely the backbone for data analysis in R. Let's cut to the chase here. In this brieft introduction, I will discuss the usage of `:`, `contains`, `end_with`, and `-`. Again, this does not nearly cover all the functionality of the `select` function.  

**Using `:`**
First, `:` is used for selecting a range of consecutive variables. For example, I want to select all the columns between Sepal.Length and Petal.Length. 
```{r}

head(iris,3) # the 3 here just meant show the first three column
head(dplyr::select(iris,Sepal.Length:Petal.Length),3) 
```

**Using `contains()`**
`contains()` select variable that has a specific string. For example, I want to select all the columns with the word Sepal in them 
```{r}
head(iris,3) # the 3 here just meant show the first three column
head(dplyr::select(iris,tidyselect::contains('Sepal')))
```

**Using `ends_with()`**
`ends_with` select variable that is end_with a specific string. For example, I want to select all the columns that end with the word "Width". 
```{r}

head(iris,3) # the 3 here just meant show the first three column
head(dplyr::select(iris,tidyselect::ends_with('Width')),3)
```
I think that's enough background for you to understand how to use the features in this package. So, I will stop here. Again, I highly recommended checking out the `dplyr` package and the entire `tidyverse` libarary. 

## Using `model_summary_with_plot`
This function contains all of the functionality related to regression model in this package. In this section, I will show you step-by-step on how to use it. I will use a dataset called EWCS_2015_shorten that contains measures on job satisfaction, subjective well-being (you can think of it as life satisfaction), and 6 Hofstede cultural dimensions, and demographics variables. You just need to know that the 6 Hofstede cultural dimensions are on the country-level (i.e., level-2) and all other variables are level-1.  
I am going to assume you know HLM since teaching HLM is out of the scope of this article However, I think this [document](https://stat.utexas.edu/images/SSC/Site/hlm_comparison-1.pdf) serve as a good introduction to learning how to implement HLM or linear mixed effect model in different software.


### Setting up the basic model
I will start by estimating a model with one level-1 variable (i.e., `Age`) and one level-2 variable (i.e., `Hofstede_IC_Country`)
```{r}

```
